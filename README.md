# Проект «Giftube» 

## 1. Знакомство с проектом  

  Список отличий для зарегистрированных пользователей:

  1. **На всех страницах у зарегистрированного пользователя есть пользовательское меню:**  
    - никнейм пользователя;  
    - ссылка на страницу избранного;  
    - кнопка выхода.  

  2. **Страница просмотра гифки**. Для зарегистрированного пользователя доступны:  
    - форма добавления комментария;   
    - кнопка "Мне нравится";  
    - кнопка "Добавить в избранное".  

  3. **Кнопка загрузить гифку** работает только для зарегистрированного пользователя.  

  4. **Страница добавления гифки** доступна только для зарегистрированного пользователя.

  5. **Страница избранное** доступна только для зарегистрированного пользователя.  

## 2. Из верстки в шаблоны  

  - создать лейаут(ы);
  - создать шаблоны всех страниц;
  - категории и гифки поместить в массивы и на страницах выводить из массивов.

## 3. Проектируем БД

### 1. Создание схемы БД личного проекта
  Подготовка:

  - Создайте новый файл в корне проекта с именем schema.sql.
  - В этом файле напишите весь SQL-код для создания схемы БД вашего проекта.  

  Требования:

  - весь SQL должен без ошибок выполняться на MySQL 5.7;
  - в каждой таблице должен быть первичный ключ.  

  План работы:

  - Сперва напишите SQL для создания новой базы данных с именем вашего проекта.
  - Напишите SQL для создания всех необходимых таблиц.
  - Добавьте уникальные индексы полям, где должны быть только уникальные значения.
  - Добавьте обычные индексы полям, по которым будет происходить поиск.  

  Как проверить:

  - Запустите HeidiSQL (для Windows) или командную строку MySQL.
  - Попробуйте выполнить ваш файл schema.sql.
  - Файл должен выполниться без ошибок.
  - В БД должны быть таблицы для всех сущностей из ТЗ

### 2. Пишем SQL-запросы

  Задание состоит из двух частей:

  - заполнить БД данными, взяв их из существующих массивов.
  - написать запросы для манипуляции этими данными.

  План работы:

  - Создайте новый файл в корне проекта с именем queries.sql.
  - В начале файла напишите запросы типа INSERT для добавления в БД всех необходимых данных.
  - Ниже этом файле напишите SQL-код всех запросов на выборку данных, каждый с новой строчки.
  - Каждый запрос предваряйте комментарием с названием действия, для которого он предназначен.

## 4. Чтение и показ записей из MySQL

На главной странице показываются карточки девяти популярных гифок, отсортированные по количеству лайков. Есть вкладка со свежими гифками, отсортированные от самых новых к старым. В прошлом задании вы написали SQL-запрос для получения таких записей. Сейчас вам будет необходимо заменить существующий массив с гифками на данные, полученные из MySQL по этому запросу.

Также слева страницы находится список категорий. Пока это статичный список, т. е. его отдельные пункты прописаны прямо в верстке. В этом задании вы должны заменить его на данные из БД.

Необходимые действия:
1. В сценарии главной страницы выполните подключение к MySQL;
2. Отправьте SQL-запрос для получения списков популярных и свежих гифок;
3. Используйте эти данные для показа карточек гифок на главной странице;
4. Отправьте SQL-запрос для получения списка категорий;
5. Используйте эти данные для показа списка категорий на главной странице слева страницы.

## 5. Формы и протокол HTTP

### 1. Работа со строкой запроса

Строка запроса — это адрес текущей страницы в браузере, который состоит из домена сайта, пути к странице и параметров запроса.  

Параметры запроса — это как бы набор переменных, которые будут доступны внутри сценария. Параметы запроса часто используют как способ передать сценарию дополнительную информацию, которая потребуется для отображения этой страницы.   

Страница gif.php содержит подробную информацию о гифке: название, автор, количество лайков и просмотров, список комментариев к гифке. Попасть сюда можно из списка гифок на главной странице. Ссылка на страницу гифки состоит из имени страницы — gif.php, а также параметра запроса — уникального идентификатора гифки.  

Значение этого параметра позволяет сценарию gif.php понять, какую из гифок надо показать.  

Потребуется сформировать правильные ссылки на гифки, а также показывать на странице gif.php информацию только по гифке, чей идентификатор был передан в параметрах запроса.  

Необходимые действия:
1. Создайте новый сценарий для показа страницы гифки — gif.php.
2. Создайте новый шаблон, который будет подключаться в gif.php. 
3. Добавьте карточкам гифок ссылки на сценарий gif.php вместе с параметром запроса.
4. Проверяйте существование параметра запроса с id гифки.
5. Сформируйте и выполните SQL на чтение записи из таблицы с гифками, где id гифки равен полученному из параметра запроса.
6. Покажите информацию о гифке на странице.
7. Если параметр запроса отсутствует, либо если по этому id не нашли ни одной записи, то вместо содержимого страницы возвращать код ответа 404.
